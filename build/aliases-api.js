const fs = require('fs')
const path = require('path')

const data = fs.readFileSync('/dev/stdin', 'utf-8')
const emoji = JSON.parse(data)

const aliases = Object.keys(emoji).sort()

const str = `// DO NOT modify this file. Auto generated by ${path.basename(__filename)}
// See https://github.com/github/gemoji/blob/master/db/emoji.json
module.exports = ${JSON.stringify(aliases)}
`

fs.writeFileSync(path.join(__dirname, '..', 'src', 'gemoji-aliases.js'), str)
